# Test that Pydantic 2 is not clobbered to a <2 version

# Build the image
cog build -t $TEST_IMAGE

# Predict and verify pydantic version is preserved
cog run $TEST_IMAGE
stdout '2.11.9'

-- cog.yaml --
build:
  python_version: "3.11"
  python_requirements: requirements.txt
run: "run.py:Runner"

-- requirements.txt --
pydantic==2.11.9

-- run.py --
from cog import BaseRunner
import pydantic


class Runner(BaseRunner):
    def run(self) -> str:
        return pydantic.__version__
